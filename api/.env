# ─── Application ─────────────────────────────────────────────────────────────
NODE_ENV=development
PORT=8000
API_PREFIX=api/v1

# ─── DB Mode ──────────────────────────────────────────────────────────────────
# Set to 'true' to use a remote DB, 'false' to use the local PostgreSQL.
USE_REMOTE_DB=true

# Which remote DB to connect to.
# Allowed values: railway | supabase | neon
# Changing this variable is the ONLY thing needed to switch remote databases.
REMOTE_DB_TARGET=railway

# ─── Local Database ───────────────────────────────────────────────────────────
LOCAL_DATABASE_HOST=localhost
LOCAL_DATABASE_PORT=5432
LOCAL_DATABASE_USER=postgres
LOCAL_DATABASE_PASSWORD=postgres
LOCAL_DATABASE_NAME=businesspro

# ─── Remote Databases ─────────────────────────────────────────────────────────
# Add new remote DBs below AND in src/config/remote-database.enum.ts registry.

# [1] Railway PostgreSQL — same private network as the API, no IPv6 issues.
RAILWAY_DATABASE_URL=postgresql://postgres:gPCAZOBhbMDnAmHLIiRGWUqdjbsWJlXp@centerbeam.proxy.rlwy.net:49325/railway

# [2] Supabase Direct Connection — requires Supabase IPv4 add-on for Railway.
#     Note: Supabase direct endpoint is IPv6-only; Railway outbound IPv6 is blocked
#     unless the IPv4 add-on is active in your Supabase project settings.
SUPABASE_DATABASE_URL=postgresql://postgres:Kh5*@rz3*2CHH3g@db.erjsftyhjqcysngxdalx.supabase.co:5432/postgres

# [3] Neon PostgreSQL — serverless / connection pooler.
NEON_DATABASE_URL=postgresql://neondb_owner:npg_Bqk0zWPcsKm1@ep-muddy-leaf-ahc3bytv-pooler.c-3.us-east-1.aws.neon.tech/neondb?sslmode=require&channel_binding=require

# ─── Database Behaviour ───────────────────────────────────────────────────────
# NEVER set both DB_SYNCHRONIZE and DB_MIGRATIONS_RUN to true simultaneously!
# They conflict: migrations create PostgreSQL ENUM types then synchronize tries
# to CREATE them again → "type already exists" → crash on a fresh database.
#
# Option A — Migrations only (RECOMMENDED for all environments):
#   DB_SYNCHRONIZE=false  |  DB_MIGRATIONS_RUN=true
#
# Option B — Synchronize only (quick local dev, no migration history):
#   DB_SYNCHRONIZE=true   |  DB_MIGRATIONS_RUN=false
DB_SYNCHRONIZE=false
DB_MIGRATIONS_RUN=true
DB_LOGGING=true

# ─── JWT Authentication ───────────────────────────────────────────────────────
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=15m
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-in-production
JWT_REFRESH_EXPIRES_IN=7d

# ─── Google OAuth ─────────────────────────────────────────────────────────────
GOOGLE_CLIENT_ID=16734530854-d5p6ep0iclh3itbfgplhgjdt7epdhkvl.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=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
GOOGLE_CALLBACK_URL=/api/v1/auth/google/callback

# ─── Backend / CORS ───────────────────────────────────────────────────────────
BACKEND_URL=http://localhost:8000
# Production: BACKEND_URL=https://api-production-6511.up.railway.app/

CORS_ORIGIN=https://app-brandme-pro.vercel.app,https://project-ai-our-app.vercel.app,http://localhost:3001,http://localhost:3000

# ─── AI Gateway (Vercel) ──────────────────────────────────────────────────────
AI_GATEWAY_API_KEY=vck_8dRLj0sXa84PAAsZUdwTupgSm8p4Y9jU4QumfuXlBANIcZziS11El349
AI_GATEWAY_BASE_URL=https://ai-gateway.vercel.sh/v1
AI_GATEWAY_NAME=business-pro

# ─── Rate Limiting ────────────────────────────────────────────────────────────
RATE_LIMIT_TTL=3600
RATE_LIMIT_MAX=100

# ─── File Upload ──────────────────────────────────────────────────────────────
MAX_FILE_SIZE=10485760
UPLOAD_DEST=./uploads

# ─── Encryption ───────────────────────────────────────────────────────────────
ENCRYPTION_KEY=your-32-character-encryption-key-here

# ─── Frontend ─────────────────────────────────────────────────────────────────
FRONTEND_URL=http://localhost:3001

# ─── AI Model Sync Scheduler ──────────────────────────────────────────────────
MODEL_SYNC_ENABLED=true
# Cron: second minute hour day-of-month month day-of-week
# Default: every day at 2:00 AM UTC
MODEL_SYNC_CRON_SCHEDULE=0 0 2 * * *
