# Application
NODE_ENV=development
PORT=8000
API_PREFIX=api/v1

# Database Configuration Switch
# Set to 'true' to use Supabase (production), 'false' to use local PostgreSQL
USE_REMOTE_DB=true

# Local Database Configuration
LOCAL_DATABASE_HOST=localhost
LOCAL_DATABASE_PORT=5432
LOCAL_DATABASE_USER=postgres
LOCAL_DATABASE_PASSWORD=postgres
LOCAL_DATABASE_NAME=businesspro

# Supabase Direct Connection — persistent, long-lived connections (ideal for Railway containers).
# No session pooler = no dropped idle connections = no cold reconnect delays.
# Switch USE_REMOTE_DB=true to use Supabase, false to use local PostgreSQL
SUPABASE_DATABASE_URL=postgresql://postgres:Kh5*@rz3*2CHH3g@db.erjsftyhjqcysngxdalx.supabase.co:5432/postgres

# Database Behavior Control
# IMPORTANT: NEVER set both DB_SYNCHRONIZE and DB_MIGRATIONS_RUN to true at the same time!
# They conflict: migrations create PostgreSQL ENUM types, then synchronize tries to CREATE
# them again → "ERROR: type already exists" → app crashes on a fresh database.
#
# Choose ONE strategy:
#   Option A — Migrations only (RECOMMENDED for all environments):
#     DB_SYNCHRONIZE=false
#     DB_MIGRATIONS_RUN=true
#
#   Option B — Synchronize only (quick local dev, no migration history needed):
#     DB_SYNCHRONIZE=true
#     DB_MIGRATIONS_RUN=false
DB_SYNCHRONIZE=true
DB_MIGRATIONS_RUN=false
DB_LOGGING=true

# Note: In production:
# DB_SYNCHRONIZE=false (NEVER true in production!)
# DB_MIGRATIONS_RUN=true (Run migrations on startup)
# DB_LOGGING=false

# JWT Authentication
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=15m
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-in-production
JWT_REFRESH_EXPIRES_IN=7d

# Google OAuth Configuration
GOOGLE_CLIENT_ID=16734530854-d5p6ep0iclh3itbfgplhgjdt7epdhkvl.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=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
GOOGLE_CALLBACK_URL=/api/v1/auth/google/callback

# Backend Base URL (for OAuth callbacks)
BACKEND_URL=http://localhost:8000
# Production: BACKEND_URL=https://project-ai-api.vercel.app

# Vercel AI Gateway
AI_GATEWAY_API_KEY=vck_8dRLj0sXa84PAAsZUdwTupgSm8p4Y9jU4QumfuXlBANIcZziS11El349
AI_GATEWAY_BASE_URL=https://ai-gateway.vercel.sh/v1
AI_GATEWAY_NAME=business-pro

# CORS
CORS_ORIGIN=https://app-brandme-pro.vercel.app,https://project-ai-our-app.vercel.app,http://localhost:3001,http://localhost:3000

# Rate Limiting
RATE_LIMIT_TTL=3600
RATE_LIMIT_MAX=100

# File Upload
MAX_FILE_SIZE=10485760
UPLOAD_DEST=./uploads

# Encryption (for social account tokens)
ENCRYPTION_KEY=your-32-character-encryption-key-here

# Frontend URL
FRONTEND_URL=http://localhost:3001

# AI Model Sync Scheduler Configuration
# Enable/disable the AI model sync scheduler (set to 'false' to disable)
MODEL_SYNC_ENABLED=true

# CRON schedule for AI model synchronization
# Default: "0 0 2 * * *" (Every day at 2:00 AM UTC)
# Format: second minute hour day-of-month month day-of-week
# Examples:
#   "0 0 2 * * *"    - Every day at 2:00 AM
#   "0 0 */6 * * *"  - Every 6 hours
#   "0 */30 * * * *" - Every 30 minutes
#   "0 0 0 * * 1"    - Every Monday at midnight
MODEL_SYNC_CRON_SCHEDULE=0 0 2 * * *
